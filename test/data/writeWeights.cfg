process TEST = 
{
    include "CondCore/DBCommon/data/CondDBCommon.cfi"
    replace CondDBCommon.timetype = "runnumber" 
    replace CondDBCommon.DBParameters.messageLevel = 2
    replace CondDBCommon.DBParameters.authenticationPath = "."
    replace CondDBCommon.connect = "sqlite:mydata.db"
    replace CondDBCommon.catalog = "file:mycatalog.xml"

    source = EmptyIOVSource 
    {
        string timetype = "runnumber"
	uint64 firstValue = 1
        uint64 lastValue  = 1
        uint64 interval = 1
    }
    
    service = PoolDBOutputService
    {
	using CondDBCommon
	VPSet toPut=
	{
	    {
		string record = "EcalWeightXtalGroupsRcd"
		string tag ="EcalWeightXtalGroups_prelimininary"
	    },
	    {
		string record = "EcalTBWeightsRcd"
		string tag ="EcalTBWeights_preliminary"
	    }
	}
    }
    
    module ecalModule = StoreEcalCondition 
    {
        string logfile = "./logfile.log"
	VPSet toPut=
	{
	    {
		untracked string conditionType = "EcalWeightXtalGroups"
		untracked string inputFile = "/afs/cern.ch/cms/ECAL/testbeam/pedestal/2006/WEIGHTS/GroupId_SM22_V0.out"
	    },
	    {
		untracked string conditionType = "EcalTBWeights"
		untracked string inputFile = "/afs/cern.ch/cms/ECAL/testbeam/pedestal/2006/WEIGHTS/WeightsFileTB_SM22_V0.out"
	    }
	}
    }

    path p = 
    { 
	ecalModule 
    }
    
}
