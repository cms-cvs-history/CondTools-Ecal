process TEST = {
    
    // Message logger service
    include "FWCore/MessageService/data/MessageLogger.cfi"
    // replace MessageLogger.cout.default.limit = 100000
    
    // Empty event source
    source = EmptyIOVSource {
          string timetype = "runnumber"
// this gets really confusing if you put firstRun as 0...
          untracked uint32 firstRun = 1
	  untracked uint32 lastRun = 10
          uint32 interval = 1
    }
    

    include "CondCore/DBCommon/data/CondDBCommon.cfi"

#    // Reading from DB file
    replace CondDBCommon.connect = "sqlite_file:DB.db"    
    replace CondDBCommon.catalog = "file:PoolFileCatalog_DB.xml"

#    // Reading from Offline DB
#    replace CondDBCommon.connect = "oracle://cms_orcoff_int2r/CMS_ECAL_OFF_TEST"
#    replace CondDBCommon.catalog = "relationalcatalog_oracle://cms_orcoff_int2r/CMS_ECAL_OFF_TEST"
#    replace CondDBCommon.DBParameters.authenticationPath="/afs/cern.ch/user/t/torimoto/scratch0/CMSSW/CMSSW_1_6_0_pre5/src/CondTools/Ecal/db_auth"    


# to write into ecal_h4_test
#    replace CondDBCommon.connect = "oracle://int2r_lb/CMS_ECAL_OFF_TEST"
#    replace CondDBCommon.catalog = "relationalcatalog_oracle://int2r_lb/CMS_ECAL_OFF_TEST"
#    replace CondDBCommon.DBParameters.authenticationPath="/afs/cern.ch/user/t/torimoto/scratch0/CMSSW/CMSSW_1_6_0_pre5/src/CondTools/Ecal/db_auth"    


######


    es_source = PoolDBESSource {
	string timetipe = "runtype"
        using CondDBCommon
        VPSet toGet = {
            { 
               string record = "EcalLaserAPDPNRatiosRcd" 
               string tag = "EcalLaserAPDPNRatios_test" 
            }
#            { 
#               string record = "EcalLaserAPDPNRatiosRefRcd" 
#               string tag = "EcalLaserAPDPNRatiosRef_test" 
#            }
#            { 
#               string record = "EcalLaserAlphasRcd" 
#               string tag = "EcalLaserAlphas_test" 
#            }
        }
	untracked bool siteLocalConfig=false
    }
    
    // Test module
    module get = EcalGetLaserData { 

         VPSet toGet = { 
		{ 
			string record = "EcalLaserAPDPNRatiosRcd" 
			string container = "EcalLaserAPDPNRatios" 
		} 
#		{ 
#			string record = "EcalLaserAPDPNRatiosRefRcd" 
#			string container = "EcalLaserAPDPNRatiosRef" 
#		} 
#		{ 
#			string record = "EcalLaserAlphasRcd" 
#			string container = "EcalLaserAlphas" 
#		} 	
	}
         untracked bool verbose = true 
     }
    
    path p1 = { get }      
    
}
