process TEST = 
{
    include "CondCore/DBCommon/data/CondDBCommon.cfi"
    replace CondDBCommon.timetype = "runnumber" 
    replace CondDBCommon.DBParameters.messageLevel = 2
    replace CondDBCommon.DBParameters.authenticationPath = "."
    service = MessageLogger
    {
        untracked vstring destinations = { "cout" }
        untracked vstring debugModules = { "ecalModule" }
        untracked PSet cout = { untracked string threshold = "DEBUG" }
    }

    # Process runs 13050 through 13099
    source = EmptyIOVSource 
    {
        string timetype = "runnumber"
	uint64 firstValue = 13050
        uint64 lastValue  = 13099
        uint64 interval = 1
    }

    es_source = PoolDBESSource 
    { 
	replace CondDBCommon.connect = "oracle://cmsr/CMS_ECAL_H4_COND"
        replace CondDBCommon.catalog = "relationalcatalog_oracle://cmsr/CMS_ECAL_H4_COND"  
	VPSet toGet=
	{
	    {
		string record = "EcalPedestalsRcd"
		string tag ="EcalPedestals_from_online"
	    }
	}
    }
    
    service = PoolDBOutputService
    {
        replace CondDBCommon.connect = "sqlite_file:mydata.db"
	replace CondDBCommon.catalog = "file:mycatalog.xml"  
	VPSet toPut=
	{
	    {
                string record = "EcalPedestalsRcd"
		string tag ="EcalPedestals_complete"
	    }
	}
    }
    
    module ecalModule = ReprocessEcalPedestals
    {
        #bool append = true
	untracked string startfile = "end1.dat"
	untracked string endfile = "end2.dat"
    }

    path p = { ecalModule }

}
