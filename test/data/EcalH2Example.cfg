process ProcessOne = {
 service = MessageLogger {
    untracked vstring destinations = {"cout"}
    untracked PSet cout = {
      untracked  PSet default = { untracked int32 limit = 0 }
    }
 }

//Subproject specific modules
     source = EmptyIOVSource {
         string timetype = "runnumber"
         untracked uint32 firstRun = 1
         untracked uint32 lastRun = 1
         uint32 interval = 1
       }


   include "CondCore/DBCommon/data/CondDBCommon.cfi"
# to write in sqlite
   replace CondDBCommon.connect = "sqlite_file:DB.db"
   replace CondDBCommon.timetype = "runnumber"

# to read last run from offline DB
#    replace CondDBCommon.connect = "oracle://cms_orcoff/CMS_ECALHCAL_H2_COND_2007"
#    replace CondDBCommon.catalog = "relationalcatalog_oracle://cms_orcoff/CMS_ECALHCAL_H2_COND_2007"
#    replace CondDBCommon.DBParameters.authenticationPath="/u1/fra/CMSSW_1_5_0_pre5/src/CondTools/Ecal/db_auth"
# or to read last run from trivial condition retriever 
  es_source = EcalTrivialConditionRetriever {
       untracked bool producedEcalPedestals = true
    }
	
#    es_source = PoolDBESSource
#    {
#        using CondDBCommon
#        VPSet toGet=
#        {
#            {
#                string record = "EcalPedestalsRcd"
#                string tag ="EcalPedestals_online"
#            }
#        }
#    }



//PopCon config
include "CondCore/PopCon/data/PopConDB.cfi"
// to write in sqlite
 replace PopConDB.connect = "sqlite_file:DB_test.db"
// to write into db
#  replace PopConDB.connect = "oracle://rls1/CSC_COND" 
// Database output service
   service = PopConDBOutputService {
       using PopConDB
	VPSet toPut = { { string record = "EcalPedestalsRcd" string tag = "EcalPedestals_online" } }
    }






//Common parameters to all subprojects
module Test1 = TestEcalPedestalAnalyzer{
    using PopConDB
#   string NewTagRequest = "EcalPedestalsRcd"
#    string PopConDBSchema = "oracle://rls1/CMSTHUSER"
#   string OfflineDBSchema = "sqlite_file:DB.db"
#   string catalog = "file:PoolFileCatalog_DB.xml"
    bool debug = true
        string firstRun = "0"
        string lastRun = "13450"
        string OnlineDBSID ="ecalh4db"
        string OnlineDBUser = "read01"
        string OnlineDBPassword = "oraread01"
        string Source = "H2"
        bool SinceAppendMode = true

    }

 path p = {Test1}
}

