
process TEST =
{

#  include "FWCore/MessageLogger/data/MessageLogger.cfi"
   service = MessageLogger {
          untracked vstring destinations = { "cout" }
          untracked vstring debugModules = { "*" }
          untracked PSet debug.txt = {
                        untracked string threshold = "DEBUG"
          }
        }

      source = EmptyIOVSource {
          string timetype = "runnumber"
          uint64 firstValue = 1
	  uint64 lastValue = 1
          uint64 interval = 1
        }

include "CalibCalorimetry/EcalTrivialCondModules/data/EcalTrivialCondRetriever.cfi"


    include "CondCore/DBCommon/data/CondDBCommon.cfi"

# to write in sqlite
    replace CondDBCommon.connect = "sqlite_file:DB.db"    
#

# to write into int2r_orcoff
#    replace CondDBCommon.connect = "oracle://cms_orcoff_int2r/CMS_COND_ECAL"
#    replace CondDBCommon.catalog = "relationalcatalog_oracle://cms_orcoff_int2r/CMS_COND_GENERAL"
#    replace CondDBCommon.DBParameters.authenticationPath="/afs/cern.ch/cms/DB/conddb"    

    service = PoolDBOutputService
    {
        using CondDBCommon
	untracked string catalog = "file:PoolFileCatalog_DB.xml"
         VPSet toPut = { 
            { 
               string record = "EcalPedestalsRcd" 
               string tag = "EcalPedestals_trivial" 
            },
            { 
               string record = "EcalADCToGeVConstantRcd" 
               string tag = "EcalADCToGeVConstant_trivial" 
            },
            { 
               string record = "EcalChannelStatusRcd" 
               string tag = "EcalChannelStatus_trivial" 
            },
            { 
               string record = "EcalIntercalibConstantsRcd" 
               string tag = "EcalIntercalibConstants_trivial" 
            },
            { 
               string record = "EcalIntercalibErrorsRcd" 
               string tag = "EcalIntercalibErrors_trivial" 
            },
            { 
               string record = "EcalGainRatiosRcd" 
               string tag = "EcalGainRatios_trivial" 
            },
            { 
               string record = "EcalWeightXtalGroupsRcd" 
               string tag = "EcalWeightXtalGroups_trivial" 
            },
            { 
               string record = "EcalTBWeightsRcd" 
               string tag = "EcalTBWeights_trivial" 
            },
            { 
               string record = "EcalLaserAlphasRcd" 
               string tag = "EcalLaserAlphas_trivial" 
            },
            { 
               string record = "EcalLaserAPDPNRatiosRcd" 
               string tag = "EcalLaserAPDPNRatios_trivial" 
            },
            { 
               string record = "EcalLaserAPDPNRatiosRefRcd" 
               string tag = "EcalLaserAPDPNRatiosRef_trivial" 
            }
   
	}

    }

    module dbCopy = EcalDBCopy
    {
        string timetype = "runnumber"
        VPSet toCopy=
        {
	    {
		string container = "EcalPedestals"
		string record = "EcalPedestalsRcd"
	    },
            {
                string container = "EcalADCToGeVConstant"
                string record = "EcalADCToGeVConstantRcd"
            },
            {
                string container = "EcalChannelStatus"
                string record = "EcalChannelStatusRcd"
            },
  	    {
                string container = "EcalIntercalibConstants"
                string record = "EcalIntercalibConstantsRcd"
            },
  	    {
                string container = "EcalIntercalibErrors"
                string record = "EcalIntercalibErrorsRcd"
            },
            {
                string container = "EcalGainRatios"
                string record = "EcalGainRatiosRcd"
            },
            {
               string container = "EcalWeightXtalGroups"
               string record = "EcalWeightXtalGroupsRcd"
            },
            {
                string container = "EcalTBWeights"
                string record = "EcalTBWeightsRcd"
            },
            {
                string container = "EcalLaserAlphas"
                string record = "EcalLaserAlphasRcd"
            },
            {
                string container = "EcalLaserAPDPNRatios"
                string record = "EcalLaserAPDPNRatiosRcd"
            },
            {
                string container = "EcalLaserAPDPNRatiosRef"
                string record = "EcalLaserAPDPNRatiosRefRcd"
            }
        }
    }

  module prod = EcalTrivialObjectAnalyzer{}

   path p = { prod, dbCopy}

}
