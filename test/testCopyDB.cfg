
process TEST =
{

   service = MessageLogger {
          untracked vstring destinations = { "cout" }
          untracked vstring debugModules = { "*" }
          untracked PSet debug.txt = {
                        untracked string threshold = "DEBUG"
          }
        }

    source = EmptySource
    {
        untracked int32 maxEvents = 100
        untracked uint32 firstRun = 13000
        untracked uint32 numberEventsInRun = 1
    }

#    include "CalibCalorimetry/EcalTrivialCondModules/data/EcalTrivialCondRetriever.cfi"

	es_source = PoolDBESSource { VPSet toGet = {
                                       { string record = "EcalPedestalsRcd"
                                         string tag = "EcalPedestals_from_online" },
                                       { string record = "EcalADCToGeVConstantRcd"
                                         string tag = "EcalADCToGeVConstant_prelim_V0" },
                                       { string record = "EcalGainRatiosRcd"
                                         string tag = "EcalGainRatios_lab_prelim_V0" },
                                       { string record = "EcalIntercalibConstantsRcd"
                                         string tag = "EcalIntercalibConstants_cosmic_1xtal_V0" },
                                       { string record = "EcalWeightXtalGroupsRcd"
                                         string tag = "EcalWeightXtalGroups_standard_V0" },
                                       { string record = "EcalTBWeightsRcd"
                                         string tag = "EcalTBWeights_standard_V0" }
                                     }
		    		     bool loadAll = true
                                     string connect = "oracle://cmsr/CMS_ECAL_H4_COND"
                                     untracked string catalog = "relationalcatalog_oracle://cmsr/CMS_ECAL_H4_COND"
                                     untracked uint32 authenticationMethod = 1
			             string timetype = "runnumber"
                                     untracked uint32 messagelevel = 2 
				   }

    service = PoolDBOutputService
    {
        string connect = "sqlite_file:mydata.db"
        untracked string catalog = "file:mycatalog.xml"
        untracked uint32 authenticationMethod = 1
        string timetype = "runnumber"
        VPSet toPut=
        {
            {
                untracked string containerName = "EcalPedestals"
                untracked bool appendIOV = false
                string tag = "EcalPedestals_test"
            },
            {
                untracked string containerName = "EcalADCToGeVConstant"
                untracked bool appendIOV = false
                string tag = "EcalADCToGeVConstant_test"
            },
            {
                untracked string containerName = "EcalIntercalibConstants"
                untracked bool appendIOV = false
                string tag = "EcalIntercalibConstants_test"
            },
            {
                untracked string containerName = "EcalGainRatios"
                untracked bool appendIOV = false
                string tag = "EcalGainRatios_test"
            },
            {
                untracked string containerName = "EcalWeightXtalGroups"
                untracked bool appendIOV = false
                string tag = "EcalWeightXtalGroups_test"
            },
            {
                untracked string containerName = "EcalTBWeights"
                untracked bool appendIOV = false
                string tag = "EcalTBWeights_test"
            }
        }
    }

    module dbCopy = EcalDBCopy
    {
        string timetype = "runnumber"
        VPSet toCopy=
        {
            {
                string container = "EcalPedestals"
                string record = "EcalPedestalsRcd"
            },
            {
                string container = "EcalADCToGeVConstant"
                string record = "EcalADCToGeVConstantRcd"
            },
            {
                string container = "EcalIntercalibConstants"
                string record = "EcalIntercalibConstantsRcd"
            },
            {
                string container = "EcalGainRatios"
                string record = "EcalGainRatiosRcd"
            },
            {
                string container = "EcalWeightXtalGroups"
                string record = "EcalWeightXtalGroupsRcd"
            },
            {
                string container = "EcalTBWeights"
                string record = "EcalTBWeightsRcd"
            }
        }
    }

   path p = { dbCopy }

}